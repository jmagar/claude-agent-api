# =============================================================================
# Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# See ENV_SETUP.md for detailed setup instructions and troubleshooting
# =============================================================================

# =============================================================================
# Database Configuration (REQUIRED)
# =============================================================================

# PostgreSQL Connection
DATABASE_URL=postgresql://postgres:postgres@localhost:54432/claude_agent

# Redis Connection
REDIS_URL=redis://localhost:54379

# =============================================================================
# Memory System - Mem0 OSS (REQUIRED)
# =============================================================================

# LLM Provider (for memory extraction)
LLM_API_KEY=your-llm-api-key-here
LLM_BASE_URL=https://cli-api.tootie.tv/v1
LLM_MODEL=gemini-3-flash-preview

# Embeddings - Text Embeddings Inference (TEI)
# ⚠️ EXTERNAL SERVICE - Verify connectivity before starting
# Model: Qwen/Qwen3-Embedding-0.6B (1024 dimensions)
TEI_URL=http://100.74.16.82:52000
TEI_EMBEDDING_DIMS=1024

# Vector Database - Qdrant
QDRANT_URL=http://localhost:53333
QDRANT_COLLECTION=mem0_memories

# Graph Database - Neo4j
NEO4J_URL=bolt://localhost:54687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=neo4jpassword
NEO4J_DATABASE=neo4j

# =============================================================================
# API Configuration (REQUIRED)
# =============================================================================

# Authentication
API_KEY=your-secure-api-key-here

# Server
API_HOST=0.0.0.0
API_PORT=54000
DEBUG=false

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:54000

# =============================================================================
# Heartbeat Configuration (OPTIONAL)
# =============================================================================

# Agent heartbeat monitoring
HEARTBEAT_INTERVAL=30
HEARTBEAT_TIMEOUT=90
HEARTBEAT_ENABLED=true

# =============================================================================
# Notification Services (OPTIONAL)
# =============================================================================

# Gotify Push Notifications
# ⚠️ EXTERNAL SERVICE - Required for push notifications
GOTIFY_URL=https://gotify.yourdomain.com
GOTIFY_TOKEN=your-gotify-app-token
GOTIFY_ENABLED=false

# =============================================================================
# Infrastructure Access (OPTIONAL)
# =============================================================================

# synapse-mcp (Docker/SSH Management)
SYNAPSE_MCP_ENABLED=false
SYNAPSE_SSH_HOST=your-docker-host.local
SYNAPSE_SSH_PORT=22
SYNAPSE_SSH_USER=your-ssh-user
SYNAPSE_SSH_KEY_PATH=/path/to/ssh/private/key

# =============================================================================
# Development/Testing (OPTIONAL)
# =============================================================================

# Test Database (isolated from production)
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:54432/claude_agent_test

# Claude Code SDK Feature Flags
CLAUDE_CODE_ENABLE_SDK_FILE_CHECKPOINTING=1

# Logging
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true

# =============================================================================
# External Services Reference
# =============================================================================
# The following services must be running and accessible:
#
# 1. PostgreSQL (54432) - Database (docker-compose)
# 2. Redis (54379) - Cache/pub-sub (docker-compose)
# 3. Neo4j (54687 bolt, 54474 http) - Graph DB (docker-compose)
# 4. Qdrant (53333) - Vector DB ⚠️ EXTERNAL
# 5. TEI (52000) - Embeddings ⚠️ EXTERNAL (100.74.16.82)
# 6. Gotify (optional) - Push notifications ⚠️ EXTERNAL
#
# Verify connectivity: curl http://100.74.16.82:52000/health
# =============================================================================
