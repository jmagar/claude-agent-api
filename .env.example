# ============================================================================
# REQUIRED SETTINGS
# ============================================================================

# API Authentication
API_KEY=your-api-key-for-clients

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================

DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:54432/claude_agent
DB_POOL_SIZE=10              # Connection pool size (5-50)
DB_MAX_OVERFLOW=20           # Max overflow connections (10-100)

# ============================================================================
# REDIS (Cache & Pub/Sub)
# ============================================================================

REDIS_URL=redis://localhost:54379/0
REDIS_SESSION_TTL=3600       # Session cache TTL in seconds (60-86400), default: 1 hour
MCP_SHARE_TTL_SECONDS=86400  # MCP share token TTL in seconds (300-604800), default: 24 hours
REDIS_INTERRUPT_CHANNEL=agent:interrupts
REDIS_SESSION_CHANNEL=agent:sessions
REDIS_MAX_CONNECTIONS=50     # Redis max connections (5-200), default: 50
REDIS_SOCKET_CONNECT_TIMEOUT=5  # Redis socket connect timeout in seconds (1-30), default: 5
REDIS_SOCKET_TIMEOUT=5       # Redis socket timeout in seconds (1-30), default: 5

# ============================================================================
# API SERVER
# ============================================================================

API_HOST=0.0.0.0
API_PORT=54000
DEBUG=false                   # Enable debug mode (exposes /docs and /redoc)
CORS_ORIGINS=["http://localhost:3000"]           # JSON array of allowed origins, wildcard only works with DEBUG=true
TRUST_PROXY_HEADERS=false    # Trust X-Forwarded-For header (only enable behind trusted proxy)
API_BASE_URL=http://localhost:54000/api/v1      # Backend API base URL for web BFF routes
MCP_SHARE_SECRET=replace-with-long-random-value  # Secret for MCP share token signing

# ============================================================================
# ANTHROPIC API (OPTIONAL)
# ============================================================================

# ANTHROPIC_API_KEY=sk-ant-...
# NOTE: Do NOT set this if using Claude Max subscription - leave unset to use Claude Max auth

# ============================================================================
# MEMORY (Mem0 OSS)
# ============================================================================

# LLM Provider (for memory extraction)
LLM_API_KEY=your-api-key-here
LLM_BASE_URL=https://cli-api.tootie.tv/v1
LLM_MODEL=gemini-3-flash-preview

# Neo4j (Graph Memory)
NEO4J_URL=bolt://localhost:54687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=neo4jpassword
NEO4J_DATABASE=neo4j

# Qdrant (Vector Store)
QDRANT_URL=http://localhost:53333

# TEI (Text Embeddings Inference)
TEI_URL=http://100.74.16.82:52000

# Mem0 Configuration
MEM0_COLLECTION_NAME=mem0_memories
MEM0_EMBEDDING_DIMS=1024
MEM0_AGENT_ID=main

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=INFO               # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_JSON=true                # Use JSON log format

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_REQUESTS=100           # Max requests per minute (general)
RATE_LIMIT_BURST=20               # Burst limit
RATE_LIMIT_QUERY_PER_MINUTE=10    # Query endpoint rate limit
RATE_LIMIT_SESSION_PER_MINUTE=30  # Session endpoint rate limit
RATE_LIMIT_GENERAL_PER_MINUTE=100 # General endpoint rate limit

# ============================================================================
# REQUEST SETTINGS
# ============================================================================

REQUEST_TIMEOUT=300          # Request timeout in seconds (10-600), default: 5 minutes
MAX_PROMPT_LENGTH=100000     # Maximum prompt length (1-500000)

# ============================================================================
# FILE CHECKPOINTING (requires Claude Code CLI)
# ============================================================================

ENABLE_FILE_CHECKPOINTING=false
CLAUDE_CODE_ENABLE_SDK_FILE_CHECKPOINTING=0
